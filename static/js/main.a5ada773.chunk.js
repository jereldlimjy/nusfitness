(this.webpackJsonpnusfitness=this.webpackJsonpnusfitness||[]).push([[0],{293:function(e,t,n){},294:function(e,t,n){},423:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(23),i=n.n(o),r=(n(293),n(24)),s=n(273),l=n(484),d=n(40),u=n(25),j=(n(294),n(491)),h=n(4),b=function(e){var t=e.alert;return null!==t&&Object(h.jsx)(j.a,{severity:t.type,children:t.msg})},m=n(197),g=n(470),p=n(427),O=n(471),x=n(472),f=n(473),y=n(474),v=n(475),k=n(463),w=n(274),S=n(487),C=n(464),D=n(498),N=n(488),T=n(499),L=n(466),E=n(467),F=n(493),I=n(468),A=n(469),H=n(123),B=(n(300),n(301),n(258)),R=function(e){var t=e.selectedDates,n=e.setSelectedDates;return Object(h.jsx)(B.DateRange,{onChange:function(e){return n([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:1,maxDate:new Date,ranges:t,direction:"horizontal"})},W=n(490),P=n(497),G=n(494),J=n(502),M=n(496),U=n(485),K=function(e){var t=e.setTime,n=e.data,a=[t(8,0),t(9,0),t(10,0),t(11,0),t(12,0),t(13,0),t(14,0),t(15,0),t(16,0),t(17,0),t(18,0),t(19,0),t(20,0),t(21,0)];return console.log(n),Object(h.jsxs)(W.a,{theme:P.a.material,containerComponent:Object(h.jsx)(G.a,{labels:function(e){return"Time: ".concat(e.datum.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(":",""),", Count: ").concat(e.datum.count)},radius:25}),minDomain:{x:t(7,0),y:0},maxDomain:{x:t(22,0),y:40},height:250,width:900,padding:{top:0,right:25,bottom:0,left:75},children:[Object(h.jsx)(J.a,{label:"Time",tickValues:a,tickFormat:function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(":","")},axisLabelComponent:Object(h.jsx)(M.a,{dy:30})}),Object(h.jsx)(J.a,{dependentAxis:!0,label:"Capacity",axisLabelComponent:Object(h.jsx)(M.a,{dy:-30})}),Object(h.jsx)(U.a,{data:n,x:"date",y:"count",scale:{x:"time",y:"linear"}})]})},Y=Object(k.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiCheckbox-colorPrimary.Mui-checked":{color:"rgb(61, 145, 255)"}},formControl:{marginTop:e.spacing(1),width:"100%"},selectButton:{}}})),q=function(){var e=Y(),t=["Kent Ridge Swimming Pool","University Town Swimming Pool","Kent Ridge Gym","University Sports Centre Gym","University Town Gym","Wellness Outreach Gym"],n=function(e,t){var n=new Date;return n.setHours(e,t,0,0),n},c=Object(a.useState)(t[0]),o=Object(r.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)([]),d=Object(r.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)([{startDate:n(0,0),endDate:n(0,0),key:"selection"}]),g=Object(r.a)(b,2),p=g[0],O=g[1],x=Object(a.useState)([1,2,3,4,5,6,7]),f=Object(r.a)(x,2),y=f[0],v=f[1],k=function(e){var t=e.target;t.checked?v([].concat(Object(w.a)(y),[parseInt(t.value)])):v(y.filter((function(e){return e!==parseInt(t.value)})))},B=function(e){switch(e.target.innerText){case"SELECT ALL":v([1,2,3,4,5,6,7]);break;case"REMOVE ALL":v([]);break;case"WEEKDAYS":v([2,3,4,5,6]);break;case"WEEKENDS":v([1,7])}};return Object(a.useEffect)((function(){var e=Object(r.a)(p,1)[0],n=e.startDate,a=Object(H.default)(e.endDate,1),c="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","traffic");fetch(c,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({facility:t.indexOf(i),date:{$gte:n,$lte:a},day:y})}).then((function(e){return e.json()})).then((function(e){return j(e.map((function(e){return{date:new Date(e.date),count:e.count}})))}))}),[i,p,y]),Object(h.jsxs)(S.a,{display:"flex",children:[Object(h.jsx)(S.a,{flex:"3 0 0",children:Object(h.jsx)(K,{setTime:n,data:u})}),Object(h.jsxs)(S.a,{display:"flex",flex:"1 1 0",flexDirection:"column",maxWidth:"370px",className:e.root,children:[Object(h.jsx)(m.a,{variant:"h4",children:"Filters"}),Object(h.jsxs)(S.a,{width:"100%",mt:2,mb:2,children:[Object(h.jsx)(m.a,{variant:"h6",children:"Facility"}),Object(h.jsxs)(C.a,{variant:"outlined",className:e.formControl,children:[Object(h.jsx)(D.a,{id:"facility-label",children:"Select Facility"}),Object(h.jsx)(N.a,{labelId:"facility-label",id:"facility",onChange:function(e){s(e.target.value)},label:"Select Facility",children:t.map((function(e){return Object(h.jsx)(T.a,{value:e,children:e},e)}))})]})]}),Object(h.jsxs)(S.a,{mt:1,children:[Object(h.jsx)(m.a,{variant:"h6",children:"Date Range"}),Object(h.jsx)(R,{selectedDates:p,setSelectedDates:O})]}),Object(h.jsxs)(C.a,{children:[Object(h.jsx)(m.a,{variant:"h6",children:"Days of week"}),Object(h.jsx)(L.a,{row:!0,children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((function(e,t){return Object(h.jsx)(E.a,{control:Object(h.jsx)(F.a,{value:t+1,checked:y.includes(t+1),onChange:k,id:e,color:"primary"},e+e),label:e})}))})]}),Object(h.jsx)(I.a,{container:!0,spacing:1,justify:"flex-start",children:["SELECT ALL","REMOVE ALL","WEEKDAYS","WEEKENDS"].map((function(t){return Object(h.jsx)(I.a,{item:!0,xs:6,children:Object(h.jsx)(A.a,{variant:"contained",fullWidth:!0,onClick:B,className:e.selectButton,children:t})})}))})]})]})},V=Object(k.a)((function(e){return{root:{padding:e.spacing(2)},table:{minWidth:650,marginTop:e.spacing(2)}}})),$=function(e){e.handleAlert;var t=e.loggedIn,n=V(),c=Object(a.useState)([]),o=Object(r.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){var e="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","bookedSlots");fetch(e,{method:"post",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return s(e.map((function(e){return{facility:e.facility,date:new Date(e.date)}})))})).catch((function(e){return console.log(e)}))}),[]),console.log(i),Object(h.jsx)("div",{className:n.root,children:t?Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(m.a,{variant:"h4",align:"center",children:"View Bookings"}),Object(h.jsx)(g.a,{component:p.a,children:Object(h.jsxs)(O.a,{className:n.table,children:[Object(h.jsx)(x.a,{children:Object(h.jsxs)(f.a,{children:[Object(h.jsx)(y.a,{children:"Facility"}),Object(h.jsx)(y.a,{align:"right",children:"Date"}),Object(h.jsx)(y.a,{align:"right",children:"Time"})]})}),Object(h.jsx)(v.a,{children:i.map((function(e){return Object(h.jsxs)(f.a,{children:[Object(h.jsx)(y.a,{component:"th",scope:"row",children:e.facility}),Object(h.jsx)(y.a,{align:"right",children:e.date.toDateString()}),Object(h.jsx)(y.a,{align:"right",children:e.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(":","")})]},e.facility)}))})]})})]}):Object(h.jsx)(q,{})})},z=n(196),_=n(495),Q=n(477),X=n(478),Z=n(479),ee=n(480),te=n(193),ne=n.n(te),ae=n(272),ce=n(476),oe=Object(k.a)((function(e){return{root:{border:"1px solid #EF7C00",margin:e.spacing(.5)},slot:{display:"none","&[disabled] ~ label":{color:"rgb(170, 170, 170)"},"&[booked='true'] ~ label":{backgroundColor:"forestgreen"},"&[booked='true']:checked ~ label":{backgroundColor:"#ef7c00"},"&:checked ~ label":{backgroundColor:"#ef7c00"}},slotLabel:{display:"inline-block",boxSizing:"border-box",margin:0,padding:"5px 20px",width:"100%",cursor:"pointer"}}})),ie=function(e){var t=e.facility,n=e.date,c=e.handleChange,o=e.checked,i=e.booked,s=oe(),l=Object(a.useState)(20),d=Object(r.a)(l,2),u=d[0],j=d[1];Object(a.useEffect)((function(){var e="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","slots");(function(){var a=Object(ae.a)(ne.a.mark((function a(){var c,o;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({facility:t,date:n}),credentials:"include"});case 2:return c=a.sent,a.next=5,c.json();case 5:o=a.sent,j(20-o);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[i]);var b=Object(ce.a)(n,1),m=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(":",""),g=(new Date).getTime();return Object(h.jsxs)("div",{className:s.root,children:[Object(h.jsx)("input",{type:"checkbox",className:s.slot,id:n,date:n,onChange:c,checked:o,disabled:u<=0||b<=g,booked:i.toString()}),Object(h.jsx)("label",{className:s.slotLabel,htmlFor:n,children:Object(h.jsx)("strong",{children:m})}),Object(h.jsx)("label",{className:s.slotLabel,htmlFor:n,children:"".concat(u," Left")})]})},re=Object(k.a)((function(e){return{root:{padding:e.spacing(2)},box:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}})),se=function(e){var t=e.facility,n=e.assignedDate,a=e.hours,c=e.handleChange,o=e.selectedSlot,i=e.bookedSlots,r=re();return Object(h.jsxs)("div",{className:r.root,children:[Object(h.jsx)(m.a,{variant:"h5",children:n.toDateString()}),Object(h.jsx)(S.a,{className:r.box,children:a.map((function(e){var a=parseInt(e.slice(0,2)),r=parseInt(e.slice(2,4)),s=new Date(n);return s.setHours(a,r,0,0),Object(h.jsx)(ie,{facility:t,date:s,handleChange:c,checked:o.date&&o.date.getTime()===s.getTime(),booked:i.filter((function(e){return e.date.getTime()===s.getTime()})).length>0},s.toLocaleString())}))})]})},le=Object(k.a)((function(e){return{root:{padding:e.spacing(2)},box:{display:"flex",justifyContent:"center"},formControl:{margin:e.spacing(1),width:"50%"},button:{padding:e.spacing(1.5,2),cursor:"pointer",border:0,borderRadius:5,backgroundColor:"#1E88E5",color:"white","&:hover":{backgroundColor:"rgba(30, 136, 229, 0.9)"}}}})),de=function(e){var t=e.handleAlert,n=le(),c=[{name:"Kent Ridge Swimming Pool",weekdayHours:["0730","0900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000"],weekendHours:["0900","1000","1100","1200","1300","1400","1500","1600","1700","1800"]},{name:"University Town Swimming Pool",weekdayHours:["0730","0900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000"],weekendHours:["0900","1000","1100","1200","1300","1400","1500","1600","1700","1800"]},{name:"Kent Ridge Gym",weekdayHours:["1100","1200","1300","1400","1500","1600","1700","1800","1900"],weekendHours:[]},{name:"University Sports Centre Gym",weekdayHours:["0900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000"],weekendHours:["0900","1000","1100","1200","1300","1400","1500","1600","1700","1800"]},{name:"University Town Gym",weekdayHours:["0700","0800","0900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000","2100"],weekendHours:["0700","0800","0900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000","2100"]},{name:"Wellness Outreach Gym",weekdayHours:["0700","0800","0900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000","2100"],weekendHours:[]}],o=Object(a.useState)(c[0]),i=Object(r.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)({}),u=Object(r.a)(d,2),j=u[0],b=u[1],g=Object(a.useState)([]),p=Object(r.a)(g,2),O=p[0],x=p[1],f=Object(a.useState)("Book"),y=Object(r.a)(f,2),v=y[0],k=y[1],w=Object(a.useState)(!1),L=Object(r.a)(w,2),E=L[0],F=L[1],I=new Date,B=I.getDay(),R=function(e){var t=e.target;t.checked?b({date:new Date(t.attributes.date.value)}):b({});var n={date:new Date(t.attributes.date.value)};0!==Object.keys(n).length&&(O.find((function(e){return e.date.getTime()===n.date.getTime()}))?k("Cancel"):k("Book"))},W=Object(a.useCallback)((function(e){if(e.preventDefault(),"Cancel"===v){var n="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","cancel");fetch(n,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(z.a)({facility:s.name},j)),credentials:"include"}).then((function(e){return 401===e.status?t("You are unauthorised to cancel the slot. Please contact the website's administrator","error"):403===e.status?t("Unable to cancel slot because it is within the 2 hour cancellation window.","error"):404===e.status&&t("Slot cannot be found. Please contact the website's administrator","error"),b({}),e.json()})).then((function(e){e.success&&t("Your slot has been cancelled.","success")})).catch((function(e){console.log(e)}))}else{var a="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","book");fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(z.a)({facility:s.name},j)),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.success?t("Your slot has been booked!","success"):t("Slot has been fully booked.","error"),b({})})).catch((function(e){console.log(e)}))}}),[v,t,s.name,j]);Object(a.useEffect)((function(){var e="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","bookedSlots");fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({facility:s.name}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){return x(e.map((function(e){return{facility:e.facility,date:new Date(e.date)}})))})).catch((function(e){return console.log(e)}))}),[W,s.name]);for(var P=function(){return F(!1)},G=[],J=0;J<3;J++)G[J]=Object(h.jsx)(se,{facility:s.name,assignedDate:Object(H.default)(I,J),hours:(B+J)%7===0||(B+J)%7===6?s.weekendHours:s.weekdayHours,handleChange:R,selectedSlot:j,bookedSlots:O},Object(H.default)(I,J).toLocaleDateString());return Object(h.jsxs)("div",{className:n.root,children:[Object(h.jsx)(m.a,{variant:"h4",align:"center",children:"Book a Facility"}),Object(h.jsx)(S.a,{className:n.box,children:Object(h.jsxs)(C.a,{variant:"outlined",className:n.formControl,children:[Object(h.jsx)(D.a,{id:"facility-label",children:"Select Facility"}),Object(h.jsxs)(N.a,{labelId:"facility-label",id:"facility",onChange:function(e){l(c[e.target.value]),b({})},label:"Select Facility",children:[Object(h.jsx)(T.a,{value:0,children:c[0].name}),Object(h.jsx)(T.a,{value:1,children:c[1].name}),Object(h.jsx)(T.a,{value:2,children:c[2].name}),Object(h.jsx)(T.a,{value:3,children:c[3].name}),Object(h.jsx)(T.a,{value:4,children:c[4].name}),Object(h.jsx)(T.a,{value:5,children:c[5].name})]})]})}),Object(h.jsxs)("form",{onSubmit:function(){return F(!0)},children:[G,0!==Object.keys(j).length&&Object(h.jsx)(S.a,{display:"flex",justifyContent:"center",children:Object(h.jsx)("input",{type:"submit",value:v,className:n.button})})]}),Object(h.jsxs)(_.a,{open:E,onClose:P,children:[Object(h.jsx)(Q.a,{children:"Book"===v?"Book selected slot?":"Cancel selected slot?"}),Object(h.jsxs)(X.a,{children:[Object(h.jsx)(Z.a,{children:"Facility: ".concat(s.name)}),Object(h.jsx)(Z.a,{children:"Date: ".concat(j.date&&j.date.toDateString())}),Object(h.jsx)(Z.a,{children:"Hour: ".concat(j.date&&j.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(":",""))})]}),Object(h.jsxs)(ee.a,{children:[Object(h.jsx)(A.a,{onClick:P,color:"primary",children:"No"}),Object(h.jsx)(A.a,{onClick:function(e){P(),W(e)},color:"primary",children:"Yes"})]})]})]})},ue=Object(k.a)((function(e){return{root:{marginTop:e.spacing(2)}}})),je=function(e){var t=e.handleAlert,n=e.loggedIn,a=(e.setLoggedIn,ue());return Object(h.jsx)("div",{className:a.root,children:n?Object(h.jsx)(de,{handleAlert:t}):Object(h.jsx)(q,{})})},he=n(481),be=n(465),me=Object(k.a)((function(e){return{root:{maxWidth:"350px",display:"flex",flexDirection:"column",border:"1px solid grey",padding:e.spacing(4),margin:"0 auto",textAlign:"center",marginTop:e.spacing(8)},formControl:{display:"flex",marginBottom:e.spacing(4)},helperText:{textAlign:"center",marginTop:e.spacing(2)},link:{color:"#EF7C00",textDecoration:"none"}}})),ge=function(e){var t=e.handleAlert,n=(e.loggedIn,e.setLoggedIn),c=me(),o=Object(a.useState)(""),i=Object(r.a)(o,2),s=i[0],l=i[1],j=Object(a.useState)(""),b=Object(r.a)(j,2),g=b[0],p=b[1],O=Object(u.f)(),x=function(e){e.preventDefault();var a="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","login");fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:g}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.success&&(t("Successfully logged in!","success"),n(!0),O.push("/"))})).catch((function(e){t("Failed to login, please try again! :(","error"),l(""),p("")}))};return Object(h.jsxs)(S.a,{className:c.root,children:[Object(h.jsx)(m.a,{variant:"h6",children:"Login"}),Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsxs)(C.a,{className:c.formControl,children:[Object(h.jsx)(D.a,{htmlFor:"email",children:"Email"}),Object(h.jsx)(be.a,{id:"email",type:"email",name:"email",value:s,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(h.jsxs)(C.a,{className:c.formControl,children:[Object(h.jsx)(D.a,{htmlFor:"password",children:"Password"}),Object(h.jsx)(be.a,{id:"password",type:"password",name:"password",value:g,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(h.jsx)(A.a,{variant:"contained",type:"submit",onSubmit:x,disableElevation:!0,children:"Login"})]}),Object(h.jsxs)(he.a,{className:c.helperText,children:["New user? Click"," ",Object(h.jsx)(d.b,{to:"/register",className:c.link,children:"here"})," ","to register now!"]})]})},pe=n(482),Oe=n(483),xe=Object(k.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},titleLink:{textDecoration:"none",color:"#EF7C00"},link:{textDecoration:"none",color:"white"},appBar:{backgroundColor:"#003D7C"}}})),fe=function(e){var t=e.loggedIn,n=e.setLoggedIn,c=xe();return Object(h.jsx)("nav",{className:c.root,children:Object(h.jsx)(pe.a,{position:"static",className:c.appBar,children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(m.a,{variant:"h6",className:c.title,children:Object(h.jsx)(d.b,{to:"/",className:c.titleLink,children:"NUSFitness"})}),t?Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(A.a,{children:Object(h.jsx)(d.b,{to:"/dashboard",className:c.link,children:"Dashboard"})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(d.b,{to:"/bookings",className:c.link,children:"Bookings"})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(d.b,{to:"/",onClick:function(e){e.preventDefault();var t="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","logout");fetch(t,{credentials:"include"}).catch((function(e){return console.log(e)})),n(!1)},className:c.link,children:"Logout"})})]}):Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(A.a,{children:Object(h.jsx)(d.b,{to:"/login",className:c.link,children:"Login"})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(d.b,{to:"/register",className:c.link,children:"Register"})})]})]})})})},ye=Object(k.a)((function(e){return{root:{maxWidth:"350px",display:"flex",flexDirection:"column",border:"1px solid grey",padding:e.spacing(4),margin:"0 auto",textAlign:"center",marginTop:e.spacing(8)},formControl:{display:"flex",marginBottom:e.spacing(4)},helperText:{textAlign:"center",marginTop:e.spacing(2)},link:{color:"#EF7C00",textDecoration:"none"}}})),ve=function(e){var t=e.handleAlert,n=(e.loggedIn,e.setLoggedIn),c=ye(),o=Object(a.useState)(""),i=Object(r.a)(o,2),s=i[0],l=i[1],j=Object(a.useState)(""),b=Object(r.a)(j,2),g=b[0],p=b[1],O=Object(u.f)(),x=function(e){if(e.preventDefault(),!s.includes("u.nus.edu"))return t("Please enter a valid NUS email","error"),l(""),void p("");var a="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","register");fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:g}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e._id?(t("Successfully registered!","success"),n(!0),O.push("/")):(t("Failed to register, please try again! :(","error"),l(""),p(""))}))};return Object(h.jsxs)(S.a,{className:c.root,children:[Object(h.jsx)(m.a,{variant:"h6",children:"Register"}),Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsxs)(C.a,{className:c.formControl,children:[Object(h.jsx)(D.a,{htmlFor:"email",children:"Email"}),Object(h.jsx)(be.a,{className:c.input,id:"email",type:"email",name:"email",value:s,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(h.jsxs)(C.a,{className:c.formControl,children:[Object(h.jsx)(D.a,{htmlFor:"password",children:"Password"}),Object(h.jsx)(be.a,{id:"password",type:"password",name:"password",value:g,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(h.jsx)(A.a,{variant:"contained",type:"submit",onSubmit:x,disableElevation:!0,children:"Register"})]}),Object(h.jsxs)(he.a,{className:c.helperText,children:["Already a user? Click"," ",Object(h.jsx)(d.b,{to:"/login",className:c.link,children:"here"})," ","to login now!"]})]})},ke=Object(s.a)({palette:{},overrides:{MuiButton:{contained:{backgroundColor:"#337ab7","&:hover":{backgroundColor:"#286090"},color:"white"}},MuiFormLabel:{root:{"&$focused":{color:"#337ab7"}}},MuiInput:{underline:{"&:after":{borderBottom:"2px solid #337ab7"}}}}}),we=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(r.a)(o,2),s=i[0],j=i[1],m=function(e,t){c({msg:e,type:t}),setTimeout((function(){c(null)}),3e3)};return Object(a.useEffect)((function(){var e="".concat("localhost"===window.location.hostname?"http://localhost:5000/":"https://salty-reaches-24995.herokuapp.com/","isLoggedIn");fetch(e,{credentials:"include"}).then((function(e){return e.json()})).then((function(e){j(e.authenticated)})).catch((function(e){console.log(e),j(!1)}))}),[]),Object(h.jsx)(l.a,{theme:ke,children:Object(h.jsx)(d.a,{basename:"/nusfitness",children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(fe,{loggedIn:s,setLoggedIn:j}),Object(h.jsx)(b,{alert:n}),Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{exact:!0,path:"/dashboard",children:Object(h.jsx)(q,{})}),Object(h.jsx)(u.a,{exact:!0,path:"/bookings",children:Object(h.jsx)($,{handleAlert:m,loggedIn:s})}),Object(h.jsx)(u.a,{exact:!0,path:"/register",children:Object(h.jsx)(ve,{handleAlert:m,loggedIn:s,setLoggedIn:j})}),Object(h.jsx)(u.a,{exact:!0,path:"/login",children:Object(h.jsx)(ge,{handleAlert:m,loggedIn:s,setLoggedIn:j})}),Object(h.jsx)(u.a,{exact:!0,path:"/",children:Object(h.jsx)(je,{handleAlert:m,loggedIn:s,setLoggedIn:j})})]})]})})})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(we,{})}),document.getElementById("root"))}},[[423,1,2]]]);
//# sourceMappingURL=main.a5ada773.chunk.js.map